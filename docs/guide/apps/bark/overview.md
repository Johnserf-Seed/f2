---
outline: [2,3]
---

# æ¥å£åˆ—è¡¨

::: tip æ³¨æ„
ğŸŸ¢ä»£è¡¨å·²ç»å®ç°ï¼ŒğŸŸ¡ä»£è¡¨æ­£åœ¨å®ç°æˆ–ä¿®æ”¹ï¼ŒğŸŸ¤ä»£è¡¨æš‚æ—¶ä¸å®ç°ï¼ŒğŸ”µä»£è¡¨æœªæ¥å¯èƒ½å®ç°ï¼ŒğŸ”´ä»£è¡¨å°†ä¼šå¼ƒç”¨ã€‚
:::

::: details handleræ¥å£åˆ—è¡¨

|     CLIæ¥å£          |         æ–¹æ³•          |
| :------------------ | :-------------------  |
| getæ¨¡å¼å‘é€é€šçŸ¥       | `fetch_bark_notification` |
| postæ¨¡å¼å‘é€é€šçŸ¥      | `post_bark_notification`  |
| cipheræ¨¡å¼å‘é€é€šçŸ¥    | `cipher_bark_notification`|

|     æ•°æ®æ–¹æ³•æ¥å£      |         æ–¹æ³•           | å¼€å‘è€…æ¥å£  |
| :------------------ | :-------------------   | :--------: |
|  å¿«æ·é€šçŸ¥            | `send_quick_notification` |   ğŸŸ¢  |
:::

::: details utilsæ¥å£åˆ—è¡¨

| å·¥å…·ç±»æ¥å£        | ç±»å                | æ–¹æ³•               | çŠ¶æ€ |
| :-------------- | :------------------ | :---------------- | :--: |
| ç®¡ç†å®¢æˆ·ç«¯é…ç½®     | `ClientConfManager` |        -         |  ğŸŸ¢  |
| ç”Ÿæˆéšæœºæ•°å­—å­—èŠ‚       | -       | `generate_numeric_bytes` |  ğŸŸ¢  |
:::

::: details crawleræ¥å£åˆ—è¡¨

| çˆ¬è™«urlæ¥å£    | ç±»å       | æ–¹æ³•          | çŠ¶æ€ |
| :----------- | :--------- | :----------  | :--: |
| Bark é€šçŸ¥æ¥å£(GET) | `BarkCrawler` | `fetch_bark_notification` | ğŸŸ¢ |
| Bark é€šçŸ¥æ¥å£(POST) | `BarkCrawler` | `post_bark_notification` | ğŸŸ¢ |
| Bark é€šçŸ¥æ¥å£(CIPHER) | `BarkCrawler` | `cipher_bark_notification` | ğŸŸ¢ |
:::

::: tip :bulb: æç¤º
- `Bark` æ˜¯ `F2` å†…ç½®çš„ä¸€ä¸ª `iOS` ç«¯é€šçŸ¥æ¨é€å·¥å…·ï¼Œç”¨äºå°†ä»»åŠ¡æ‰§è¡Œç»“æœæ¨é€åˆ° `iOS` è®¾å¤‡ã€‚åŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ `CLI` æ¨¡å¼æ¥å‘é€é€šçŸ¥ã€‚[CLIæŒ‡å¼•](/guide/apps/bark/cli)
- `Bark` çš„ `GCM` æ¨é€åŠ å¯†æ¨¡å¼ä»åœ¨å®éªŒé˜¶æ®µï¼Œå»ºè®®å…ˆä½¿ç”¨ `AES-256-CBC` åŠ å¯†æ¨¡å¼ã€‚
:::

## handleræ¥å£åˆ—è¡¨

### å¿«æ·é€šçŸ¥ ğŸŸ¢

å¼‚æ­¥æ–¹æ³•ï¼Œç”¨äºå‘é€å¿«æ·é€šçŸ¥ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| title | str | é€šçŸ¥æ ‡é¢˜ |
| body | str | é€šçŸ¥å†…å®¹ |
| send_method | str | å‘é€æ–¹å¼ï¼Œå¯é€‰å€¼ä¸º `GET`ã€`POST` |

| è¿”å› | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| BarkNotificationFilter | model | é€šçŸ¥è¿‡æ»¤å™¨ï¼ŒåŒ…å«é€šçŸ¥æ•°æ®çš„ `_to_raw`ã€`_to_dict` æ–¹æ³• |

<<< @/snippets/bark/notification.py{15}

## utilsæ¥å£åˆ—è¡¨

### ç®¡ç†å®¢æˆ·ç«¯é…ç½® ğŸŸ¢

ç”¨äºç®¡ç†å®¢æˆ·ç«¯é…ç½®ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| æ—  | æ—  | æ—  |

| è¿”å› | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| é…ç½®æ–‡ä»¶å€¼ | Any | é…ç½®æ–‡ä»¶å€¼ |

<<< @/snippets/bark/client-config.py{4,5,7,8,10,11}

### ç”Ÿæˆéšæœºæ•°å­—å­—èŠ‚ ğŸŸ¢

ç”¨äºç”Ÿæˆéšæœºæ•°å­—å­—èŠ‚ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| length | int | å­—èŠ‚é•¿åº¦ |

| è¿”å› | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| numeric_str | bytes | éšæœºå­—èŠ‚ |

<<< @/snippets/bark/generate-bytes.py{7}

## crawleræ¥å£åˆ—è¡¨

### Bark é€šçŸ¥æ¥å£(GET) ğŸŸ¢

å¼‚æ­¥æ–¹æ³•ï¼Œç”¨äºå‘é€ `Bark` é€šçŸ¥ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| params | BarkModel | æ¥å£å‚æ•°æ¨¡å‹ |

| è¿”å› | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| _fetch_get_json | dict | å‘é€å®Œæˆåçš„è¿”å›å€¼ |

### Bark é€šçŸ¥æ¥å£(POST) ğŸŸ¢

å¼‚æ­¥æ–¹æ³•ï¼Œç”¨äºå‘é€ `Bark` é€šçŸ¥ã€‚å°† `BarkModel` å‚æ•°æ¨¡å‹ç”¨ `POST` æ–¹å¼å‘é€ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| params | BarkModel | æ¥å£å‚æ•°æ¨¡å‹ |

| è¿”å› | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| _fetch_post_json | dict | å‘é€å®Œæˆåçš„è¿”å›å€¼ |

### Bark é€šçŸ¥æ¥å£(CIPHER) ğŸŸ¢

å¼‚æ­¥æ–¹æ³•ï¼Œç”¨äºå‘é€åŠ å¯† `Bark` é€šçŸ¥ã€‚

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| params | BarkCipherModel | æ¥å£å‚æ•°æ¨¡å‹ |

| è¿”å› | ç±»å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| _fetch_post_json | dict | å‘é€å®Œæˆåçš„è¿”å›å€¼ |